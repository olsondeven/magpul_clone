{"version":3,"sources":["app.js","directive/carouselDirective.js","directive/footerDirective.js","directive/menuBarDirective.js","ctrl/cartCtrl.js","ctrl/editCartCtrl.js","ctrl/homeCtrl.js","ctrl/productCtrl.js","ctrl/productDetailCtrl.js","services/mainSrvc.js","services/productSrvc.js"],"names":["myApp","angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","directive","restrict","$scope","myInterval","slides","image","text","link","scope","element","attribute","ctrl","mainSrvc","test","$state","$stateParams","$sce","productSrvc","category","subcategory","toUpperCase","getProductList","then","res","products","colorFn","str","color","colorImg","copyright","id","getProductId","productData","addToShoppingCart","i","p","swal","quantity","product","parseInt","price","parseFloat","img","mainimg","console","log","postCart","service","$http","method","arr","splitDollarArr","data","proObj","arrKey","forEach","object","index","key","match","split","arrNew","push","splitDollarObj","obj"],"mappings":"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","file":"bundle.js","sourcesContent":["var myApp = angular.module('myApp',['ui.router','ui.bootstrap']);\r\n\r\nmyApp.config(function($stateProvider, $urlRouterProvider){\r\n  $urlRouterProvider.otherwise('/');\r\n  $stateProvider\r\n  .state('home', {\r\n    url: '/',\r\n    templateUrl: './templates/home.html',\r\n    controller: 'homeCtrl'\r\n  })\r\n  .state('product',{\r\n    url: '/product/:category/:subcategory',\r\n    templateUrl: './templates/product.html',\r\n    controller: 'productCtrl'\r\n  })\r\n  .state('productDetail',{\r\n    url: '/product/:id',\r\n    templateUrl: './templates/productDetails.html',\r\n    controller: 'productDetailCtrl'\r\n  })\r\n  .state('cart',{\r\n    url: '/cart',\r\n    templateUrl: './templates/cart.html',\r\n    controller: 'cartCtrl'\r\n  })\r\n  .state('editCart',{\r\n    url: '/edit-cart',\r\n    templateUrl: '.templates/editCart.html',\r\n    controller: 'editCartCtrl'\r\n  })\r\n});//closing\r\n","myApp.directive('carouselDirect',function(){\r\n  return {\r\n    restrict: 'EA',\r\n    templateUrl: './js/directive/carousel.html',\r\n    controller: function($scope){\r\n      $scope.myInterval = 4000;\r\n      $scope.slides = [{\r\n                image:'https://www.magpul.com/Admin/Public/GetImage.ashx?Image=/Files/Files/Images/Homepage/PRS_GEN3_Carousel.jpg&Format=jpg&Height=760&Crop=5&background=ffffff',\r\n                text: 'PRS GEN3 STOCK'\r\n              },{\r\n                image:'https://www.magpul.com/Admin/Public/GetImage.ashx?Image=/Files/Files/Images/Homepage/Hats.jpg&Format=jpg&Height=760&Crop=5&background=ffffff',\r\n                text: 'MAGPUL HATS'\r\n              },{\r\n                image:'https://www.magpul.com/Admin/Public/GetImage.ashx?Image=/Files/Files/Images/Homepage/SL-SCarousel.jpg&Format=jpg&Height=760&Crop=5&background=ffffff',\r\n                text: 'MOE SL-S CARBINE STOCK'\r\n              },{\r\n                image:'https://www.magpul.com/Admin/Public/GetImage.ashx?Image=/Files/Files/Images/Homepage/HunterTakedown.jpg&Format=jpg&Height=760&Crop=5&background=ffffff',\r\n                text: 'HUNTER SERIES STOCKS AND ACCESSORIES'\r\n              },{\r\n                image:'https://www.magpul.com/Admin/Public/GetImage.ashx?Image=/Files/Files/Images/Homepage/Glock21.jpg&Format=jpg&Height=760&Crop=5&background=ffffff',\r\n                text: 'PMAG 21 GL9'\r\n              }];\r\n    }\r\n  };\r\n});\r\n","myApp.directive('footerDirect',function(){\r\n  return {\r\n    restrict: 'EA',\r\n    templateUrl: '../../templates/footer.html',\r\n    link: function (scope,element,attribute){\r\n\r\n    },\r\n    ctrl: function($scope){\r\n\r\n    }\r\n  };\r\n});//closing\r\n","myApp.directive('menuDirect',function(){\r\n  return {\r\n    restrict: 'EA',\r\n    templateUrl: '../../templates/menuBar.html',\r\n    link: function (scope,element,attribute){\r\n\r\n    },\r\n    controller: function($scope){\r\n\r\n    }\r\n  };\r\n});//closing\r\n","myApp.controller('cartCtrl',function($scope,mainSrvc){\r\n// $scope.test = 'Please be workiing';\r\n});//closing\r\n","myApp.controller('editCartCtrl',function($scope,mainSrvc){\r\n$scope.test = 'Please be workiing';\r\n});//closing\r\n","myApp.controller('homeCtrl',function($scope,mainSrvc){\r\n// $scope.test = 'PMAG\\xAE 30 AK/AKM GEN M3\\u2122';\r\n});//closing\r\n","myApp.controller('productCtrl',function($scope,$state,$stateParams,$sce,productSrvc){\r\n  $scope.test = 'PMAG\\xAE 30 AK/AKM MOE\\xAE';\r\n  $scope.category = $stateParams.category;\r\n  $scope.subcategory = $stateParams.subcategory.toUpperCase();\r\n  productSrvc.getProductList($stateParams.subcategory).then((res)=>{\r\n    $scope.products = res;\r\n    // console.log($scope.test);\r\n    // console.log($scope.products[0]);\r\n  });\r\n});//closing\r\n","myApp.controller('productDetailCtrl',function($scope,$state,$stateParams,$sce,productSrvc){\r\n  $scope.colorFn = function(str){\r\n    if(str === \"black\"){\r\n      $scope.color = \"BLACK\";\r\n      // console.log('fn fired', $scope.color);\r\n    }else if(str === 'sand'){\r\n      $scope.color = \"SAND\";\r\n      $scope.colorImg = ''\r\n      // console.log('fn fired', $scope.color);\r\n    }\r\n  };\r\n  $scope.copyright = '\\xAE';\r\n  $scope.test = $stateParams.id;\r\n  productSrvc.getProductId($stateParams.id).then(function(res){\r\n    // console.log(res);\r\n    $scope.productData = res;\r\n    // console.log($scope.productData[0].mainimg);\r\n    $scope.productData[0].subcategory = $scope.productData[0].subcategory.toUpperCase();\r\n  });\r\n  // console.log($stateParams.id);\r\n  $scope.addToShoppingCart = (i,p)=>{\r\n    // console.log('fn fired',i,q,p);\r\n    if(!$scope.color){\r\n      return swal('Please select a color');\r\n      // return alert('Please select color');\r\n    }\r\n    if(!$scope.quantity){\r\n      $scope.quantity = 1;\r\n    }\r\n      var product = {\r\n        id: i,\r\n        quantity: parseInt($scope.quantity),\r\n        price: parseFloat(p),\r\n        color: $scope.color,\r\n        img: $scope.productData[0].mainimg,\r\n    }\r\n    if($scope.quantity && $scope.color){\r\n      console.log('front end ctrl fired',product);\r\n      productSrvc.postCart(product);\r\n    }\r\n  }\r\n});//closing\r\n","myApp.service('mainSrvc',function(){\r\n\r\n});\r\n","myApp.service('productSrvc',function($http){\r\n  this.getProductList = function(subcategory){\r\n    return $http({\r\n      method: 'GET',\r\n      url: `/api/products/${subcategory}`\r\n    }).then(function(res){\r\n      var arr = splitDollarArr(res.data);\r\n      return arr;\r\n    });\r\n  }\r\n  this.getProductId = function(id){\r\n    // console.log('fn fired');\r\n    return $http({\r\n      method: 'GET',\r\n      url: `/api/products/?id=${id}`\r\n    }).then(function(res){\r\n      // console.log('id res',res.data);\r\n      var arr = splitDollarArr(res.data);\r\n      return arr;\r\n    });\r\n  }\r\n  this.postCart = function(proObj){\r\n    console.log('fn fired srvc', proObj);\r\n    return $http ({\r\n      method: 'POST',\r\n      url: '/api/cart',\r\n      data: proObj\r\n    }).then(function(res){\r\n      console.log(res.data);\r\n      // return res.data;\r\n    });\r\n  }\r\n});//closing\r\nlet splitDollarArr = function(arr){\r\n  let arrKey = ['features','details','specs','color'];\r\n  arr.forEach((object,index)=>{\r\n    arrKey.forEach((key,i)=>{\r\n      if((object[key]) && object[key].match(/(\\\\\\$)/gi)){\r\n        object[key] = object[key].split(/\\\\\\$/gi);\r\n      }else{\r\n        let arrNew = [];\r\n        arrNew.push(object[key]);\r\n        object[key] = arrNew;\r\n      }\r\n    })\r\n  });\r\n  return arr;\r\n};\r\n\r\nlet splitDollarObj = function(obj){\r\n  let arrKey = ['features','details','specs','color'];\r\n  arrKey.forEach((key,i)=>{\r\n    if((obj[key]) && obj[key].match(/(\\\\\\$)/gi)){\r\n      obj[key] = obj[key].split(/\\\\\\$/gi);\r\n    }else{\r\n      let arrNew = [];\r\n      arrNew.push(obj[key]);\r\n      obj[key] = arrNew;\r\n    }\r\n  })\r\n  return arr;\r\n};\r\n"]}